(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{100:function(t,n,e){"use strict";e.r(n);function r(){var n=this,t=n.$createElement,e=n._self._c||t;return e("form",{staticClass:"VocabularyTranslator ui grid form"},[e("div",{staticClass:"equal width row"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{attrs:{for:"vocabulary_input"}},[n._v(n._s(n.$t("Vocabulary Input")))]),n._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.db.localConfig.vocabularyInput,expression:"db.localConfig.vocabularyInput"}],attrs:{id:"vocabulary_input"},domProps:{value:n.db.localConfig.vocabularyInput},on:{input:function(t){t.target.composing||n.$set(n.db.localConfig,"vocabularyInput",t.target.value)}}}),n._v(" "),e("div",{staticClass:"ui fluid buttons"},[e("button",{staticClass:"ui button",class:n.computedTranslateButtonClassList,attrs:{type:"button"},on:{click:n.startTranslate}},[n._v("\n                "+n._s(n.$t("Translate"))+"\n              ")]),n._v(" "),!1===n.isSpeaking?e("button",{staticClass:"ui button",class:n.computedSpeakButtonClassList,attrs:{type:"button"},on:{click:n.startSpeak}},[n._v("\n                "+n._s(n.$t("Speak"))+"\n              ")]):n._e(),n._v(" "),!0===n.isSpeaking?e("button",{staticClass:"ui positive button",attrs:{type:"button"},on:{click:n.stopSpeak}},[n._v("\n                "+n._s(n.$t("Stop Speak"))+"\n              ")]):n._e()])])]),n._v(" "),e("div",{staticClass:"column"},[e("div",{staticClass:" field"},[e("label",{attrs:{for:"vocabulary_output"}},[n._v(n._s(n.$t("Vocabulary Output")))]),n._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.db.localConfig.vocabularyOutput,expression:"db.localConfig.vocabularyOutput"}],attrs:{id:"vocabulary_output"},domProps:{value:n.db.localConfig.vocabularyOutput},on:{input:function(t){t.target.composing||n.$set(n.db.localConfig,"vocabularyOutput",t.target.value)}}}),n._v(" "),e("div",{staticClass:"ui fluid buttons"},[e("button",{staticClass:"ui button",class:n.computedCopyButtonClassList,attrs:{type:"button"},on:{click:n.copy}},[n._v("\n              "+n._s(n.$t("Copy"))+"\n            ")]),n._v(" "),e("a",{staticClass:"ui button",class:n.computedAddDictionaryButtonClassList,attrs:{href:"https://docs.google.com/presentation/d/1xfNgDLuYfHPbs0IEzQmQfE9cQ5q9O_sGfWTQWvv1-Hs/edit#slide=id.g1580e701989_0_0",target:"slide"}},[n._v("\n              "+n._s(n.$t("Slide"))+"\n          ")]),n._v(" "),e("button",{staticClass:"ui button",class:n.computedAddDictionaryButtonClassList,attrs:{type:"button"},on:{click:n.addDictionary}},[n._v("\n              "+n._s(n.$t("Add to Dictionary"))+"\n            ")])])])])]),n._v(" "),e("div",{staticClass:"ui blue compact basic buttons"},n._l(n.computedVocabularyList,function(t){return e("a",{staticClass:"ui button",attrs:{href:n.buildLink(t),target:n.buildCacheKey(t)}},[n._v("\n      "+n._s(t)+"\n    ")])}),0)])}r._withStripped=!0;var o=e(1),S=e.n(o),o=e(0),o=e.n(o),a=e(89),i=e.n(a);function u(t,n){var e,r,o,a,i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return r=!(e=!0),{s:function(){i=i.call(t)},n:function(){var t=i.next();return e=t.done,t},e:function(t){r=!0,o=t},f:function(){try{e||null==i.return||i.return()}finally{if(r)throw o}}};if(Array.isArray(t)||(i=function(t,n){var e;if(t)return"string"==typeof t?c(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,n):void 0}(t))||n&&t&&"number"==typeof t.length)return i&&(t=i),a=0,{s:n=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return i};var i={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,n,e){t[n]=e.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",e=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function a(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{a({},"")}catch(t){a=function(t,n,e){return t[n]=e}}function u(t,n,e,r){var o,a,i,u,n=n&&n.prototype instanceof p?n:p,n=Object.create(n.prototype),r=new C(r||[]);return s(n,"_invoke",{value:(o=t,a=e,i=r,u="suspendedStart",function(t,n){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw n;return x()}for(i.method=t,i.arg=n;;){var e=i.delegate;if(e){e=function t(n,e){var r=e.method,o=n.iterator[r];if(void 0===o)return e.delegate=null,"throw"===r&&n.iterator.return&&(e.method="return",e.arg=void 0,t(n,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=l(o,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;o=r.arg;return o?o.done?(e[n.resultName]=o.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}(e,i);if(e){if(e===f)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===u)throw u="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u="executing";e=l(o,a,i);if("normal"===e.type){if(u=i.done?"completed":"suspendedYield",e.arg===f)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u="completed",i.method="throw",i.arg=e.arg)}})}),n}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var f={};function p(){}function d(){}function h(){}var n={},b=(a(n,r,function(){return this}),Object.getPrototypeOf),b=b&&b(b(_([]))),y=(b&&b!==t&&c.call(b,r)&&(n=b),h.prototype=p.prototype=Object.create(n));function v(t){["next","throw","return"].forEach(function(n){a(t,n,function(t){return this._invoke(n,t)})})}function g(i,u){var n;s(this,"_invoke",{value:function(e,r){function t(){return new u(function(t,n){!function n(t,e,r,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==S()(e)&&c.call(e,"__await")?u.resolve(e.__await).then(function(t){n("next",t,r,o)},function(t){n("throw",t,r,o)}):u.resolve(e).then(function(t){a.value=t,r(a)},function(t){return n("throw",t,r,o)});o(t.arg)}(e,r,t,n)})}return n=n?n.then(t,t):t()}})}function m(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function _(n){if(n){var e,t=n[r];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return e=-1,(t=function t(){for(;++e<n.length;)if(c.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:x}}function x(){return{value:void 0,done:!0}}return s(y,"constructor",{value:d.prototype=h,configurable:!0}),s(h,"constructor",{value:d,configurable:!0}),d.displayName=a(h,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},i.awrap=function(t){return{__await:t}},v(g.prototype),a(g.prototype,e,function(){return this}),i.AsyncIterator=g,i.async=function(t,n,e,r,o){void 0===o&&(o=Promise);var a=new g(u(t,n,e,r),o);return i.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},v(y),a(y,o,"Generator"),a(y,r,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),i.keys=function(t){var n,e=Object(t),r=[];for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},i.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&c.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function t(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=c.call(o,"catchLoc"),u=c.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),f}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e,r,o=this.tryEntries[n];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(r=e.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),f}},i}var s,l,f,a={props:["db"],components:{},data:function(){return this.$i18n.locale=this.db.localConfig.locale,{isWaiting:!1,isSpeaking:!1}},watch:{"db.localConfig.locale":function(){this.$i18n.locale=this.db.localConfig.locale},"db.localConfig.vocabularyInput":function(){this.db.localConfig.setVocabularyTime=(new Date).getTime()}},computed:{computedVocabularyList:function(){var t=this.db.localConfig.vocabularyInput.trim().split("\n").filter(function(t){return""!==t.trim()}).map(function(t){return t.trim()});return i()(new Set(t))},computedSpeakButtonClassList:function(){var t=["ui"];return""===this.db.localConfig.vocabularyInput.trim()&&t.push("disabled"),t.push("button"),t},computedTranslateButtonClassList:function(){var t=["ui"];return""===this.db.localConfig.vocabularyInput.trim()||!0===this.isWaiting?t.push("disabled negative"):this.db.localConfig.setVocabularyTime>this.db.localConfig.translateTime&&t.push("positive"),t.push("button"),t},computedAddDictionaryButtonClassList:function(){var t=["ui"],n=this.db.localConfig.vocabularyOutput;return n.trim&&""===n.trim()&&t.push("disabled"),t.push("button"),t},computedCopyButtonClassList:function(){var t=["ui"],n=this.db.localConfig.vocabularyOutput;return n.trim&&""===n.trim()?t.push("disabled"):!1===this.db.config.vocabularyOutputCopied&&t.push("positive"),t.push("button"),t}},mounted:function(){},methods:{startTranslate:(f=o()(k().mark(function t(){var n,e,r,o;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isWaiting=!0,n=this.parseVocabularies(),n=this.checkCachedVocabularies(n),0<(r=this.parseVocabulariesToQuery(n)).length)return r=this.db.config.appsScriptsURL+"?v="+encodeURI(r.join(";"))+"&ls="+this.db.localConfig.languageSource+"&lt="+this.db.localConfig.languageTarget,t.next=9,this.db.utils.AxiosUtils.get(r);t.next=13;break;case 9:r=t.sent,e=this.cacheQueryResult(r.output,n),t.next=14;break;case 13:e=n;case 14:o=this.flatVocabularyCachedQueried(e),this.db.localConfig.vocabularyOutput=o.join("\n"),this.db.localConfig.translateTime=(new Date).getTime(),this.isWaiting=!1,this.db.config.vocabularyOutputCopied=!1;case 19:case"end":return t.stop()}},t,this)})),function(){return f.apply(this,arguments)}),startSpeak:(l=o()(k().mark(function t(){var n,e;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.parseVocabularies(),this.isSpeaking=!0,n=u(n),t.prev=3,n.s();case 5:if((e=n.n()).done){t.next=13;break}return e=e.value,t.next=9,this.db.utils.SpeakUtils.speak(e);case 9:if(!1===this.isSpeaking)return t.abrupt("return",!1);t.next=11;break;case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:this.isSpeaking=!1;case 22:case"end":return t.stop()}},t,this,[[3,15,18,21]])})),function(){return l.apply(this,arguments)}),stopSpeak:(s=o()(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.utils.SpeakUtils.speakOrStop();case 2:this.isSpeaking=!1;case 3:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)}),parseVocabularies:function(){var t=this.db.localConfig.vocabularyInput.trim().split("\n").filter(function(t){return""!==t.trim()}).map(function(t){return t.trim()});return i()(new Set(t))},buildCacheKey:function(t){return t+";"+this.db.localConfig.languageSource+";"+this.db.localConfig.languageTarget},checkCachedVocabularies:function(t){var e=this,r=this.$parent.$refs.VocabularyDictionary.dictionaryMap;return t.map(function(t){var n;return r[t]?{vocabulary:t,note:r[t]}:(n=e.buildCacheKey(t),e.db.config.queryCache[n]?{vocabulary:t,note:e.db.config.queryCache[n]}:{vocabulary:t,note:null})})},parseVocabulariesToQuery:function(t){return t.filter(function(t){return null===t.note}).map(function(t){return t.vocabulary})},cacheQueryResult:function(t,n){var e=this,r={};t.split("\n").forEach(function(t){if(-1===t.indexOf("/"))return!1;var n=t.slice(0,t.indexOf("/")).trim(),n=(r[n]=t,e.buildCacheKey(n));e.db.config.queryCache[n]=t});for(var o,a=0;a<n.length;a++)n[a].note||(o=n[a].vocabulary,n[a].note=r[o]);return n},flatVocabularyCachedQueried:function(t){return t.map(function(t){return t.note})},copy:function(){this.db.utils.ClipboardUtils.copyPlainString(this.db.localConfig.vocabularyOutput),this.db.config.vocabularyOutputCopied=!0},addDictionary:function(){this.$parent.$refs.VocabularyDictionary.addDictionary()},buildLink:function(t){return"https://dictionary.cambridge.org/dictionary/".concat(this.db.localConfig.languageSource,"-").concat(this.db.localConfig.languageTarget,"/").concat(t)}}},o=(e(93),e(15)),e=e(95),o=Object(o.a)(a,r,[],!1,null,"0d37a34f",null);"function"==typeof e.default&&Object(e.default)(o),o.options.__file="src/components/VocabularyTranslator/VocabularyTranslator.vue",n.default=o.exports},62:function(t,n,e){var r=e(94),o=("string"==typeof r&&(r=[[t.i,r,""]]),{});o.insert="head",o.singleton=!1,e(9)(r,o);r.locals&&(t.exports=r.locals)},63:function(t,n){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},89:function(t,n,e){var r=e(90),o=e(91),a=e(92);t.exports=function(t){return r(t)||o(t)||a()}},90:function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}},91:function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},92:function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},93:function(t,n,e){"use strict";var r=e(62);e.n(r).a},94:function(t,n,e){(t.exports=e(8)(!0)).push([t.i,".VocabularyTranslator .ui.blue.compact.basic.buttons[data-v-0d37a34f]{border-width:0!important}","",{version:3,sources:["/app/src/components/VocabularyTranslator/VocabularyTranslator.less?vue&type=style&index=0&id=0d37a34f&lang=less&scoped=true&","/app/src/components/VocabularyTranslator/VocabularyTranslator.less"],names:[],mappings:"AAAA,sEAEI,wBCAJ",file:"VocabularyTranslator.less?vue&type=style&index=0&id=0d37a34f&lang=less&scoped=true&",sourcesContent:[".VocabularyTranslator {\n  .ui.blue.compact.basic.buttons {\n    border-width: 0 !important;\n  }\n}",".VocabularyTranslator .ui.blue.compact.basic.buttons {\n  border-width: 0 !important;\n}\n"]}])},95:function(t,n,e){"use strict";var r=e(63);n.default=e.n(r).a}}]);
//# sourceMappingURL=VocabularyTranslator.js.map